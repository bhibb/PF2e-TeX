% \newcommand{\pfspellheader}[6]{
%   \subtitlesection{#1}{#2}
%   \vspace{-1ex} % subtitlesection artefact; topsep also changes bottom spacing.
%   \begin{description}[font=\normalfont\textbf,noitemsep,topsep=1ex,leftmargin=1em]
%     \item[Casting Time:] #3
%     \item[Range:] #4
%     \item[Components:] #5
%     \item[Duration:] #6
%   \end{description}
% }

% \newenvironment{pf-spell}[6]
%   {\pfspellheader{#1}{#2}{#3}{#4}{#5}{#6}}
%   % Environment encloses description.
% {\vspace{\baselineskip}}

% Basic creature box
\newtcolorbox{pf-spell}[3][]{
  enhanced,
  frame hidden,
  boxrule=0pt,
  breakable,
  boxsep=0pt,
  toptitle=3mm,
  left=0pt,
  right=0pt,
  arc=0mm,
  opacityback=0,
  colframe=title1,
  fonttitle=\pfStatBlockTitleFont,
  fontupper=\pfStatBlockBodyFont,
  title={#2 \hfill Spell #3},
  before upper={\pfhline{}\\},
  coltitle=spell,
  #1
}

% dedup later...
% A pf@attrs helper macro that always displays an attribute.
\newcommand{\pf@attr}[2]{%
  \textbf{#2} \commandkey{#1}%
}


% A pf@attrs helper macro that displays an attribute if the user defined
% it.
\newcommand{\pf@ifattr}[2]{%
  \ifcommandkey{#1}{%
    ; \textbf{#2} \commandkey{#1}%
  }{}%
}

\newkeycommand\pfspellheader[
    tradition=,
    cast=,
    range=,
    area=,
    targets=,
    save=,
    duration=,
    ]{%
\begingroup
\par
\raggedright
\noindent
% \onehalfspacing
\pf@attr{tradition}{Tradition}\\
\pf@attr{cast}{Cast}\\
\pf@attr{range}{Range}%
\pf@ifattr{area}{Area}%
\pf@ifattr{targets}{Targets}

\ifcommandkey{save}{%
\textbf{Save}\commandkey{save}%
\pf@ifattr{duration}{Duration}%
}{%
\ifcommandkey{duration}{%
\pf@attr{duration}{Duration}%
}{}}%

\pfhline{}%
\endgroup
}
