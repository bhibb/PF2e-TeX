\usepackage{tcolorbox}
\usepackage{wrapfig}

% \setlength{\wrapoverhang}{\marginparwidth}
% \addtolength{\wrapoverhang}{\marginparsep}

% This is unused and will be removed, use \trait{} instead
\newcommand{\traits}[1]{%
  \setlength\intextsep{0pt}%
  \begin{wrapfigure}{l}[2mm]{1.1cm}%
    \centering
    \begin{tcolorbox}[width=1.778cm,
                      colframe=tagborder,
                      colback=tagbg,
                      arc=1mm,
                      box align=center,
                      halign=flush center,
                      left*=0mm,
                      right*=0mm,
                      nobeforeafter,
                    ]%
      \pfTraitFont{} #1
    \end{tcolorbox}%
  \end{wrapfigure}%
}

\newcommand{\trait}[1]{%
  \noindent\setlength\intextsep{0pt}%
  \begin{tcolorbox}[hbox,
                    colframe=tagborder,
                    colback=tagbg,
                    arc=1mm,
                    height=7mm,
                    valign=center,
                    % box align=center,
                    % halign=flush center,
                    left*=2mm,
                    right*=2mm,
                    nobeforeafter,
                  ]%
    \pfTraitFont{} #1
  \end{tcolorbox}%
}
